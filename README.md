# Shadow Realm

A rouge-like metroidvania game created as a basis of my Bachelor's Thesis "Design and implementation of a 2D metroidvania game with procedural generation of the world, quests and abilities".

In the game player explores procedurally generated 2D dungenons designed as a matrix of room that player can move between. In the rooms there are enemies one might (but not necessarily need) defeat to proceed. The objective of a dungeon is to defeat a boss that resides at the end of the longest possible path in a graph representing the rooms of a dungeon. Success is rewarded with rich rewards whereas defeat means only return to the base of operations, without loosing anything but one's honour.

The project's aim was to use procedural content generation techniques in order to create a dynamic game world with substantial degree of randomness. The target effect is high replayability and the possibility to explore both the game world andits mechanics in a non-deterministic way. The product created as a part of thiswork is a prototype of computer game with elements ofmetroidvaniaandrougelikegenres. The application of procedural content generation in many aspects of thegame allowed to create an easily extendable world in terms of available mechanics.

# Spells
Spells are embedded in usable items called *glyphs*, that can be combined into more powerful ones. Every spell has a *nature* trait out of [AOE, SINGLE_TARGET, CHAIN, SELF] and up to 4 *element* traits out of [FIRE, WATER, AIR, EARTH]. They define behaviour of a spell, and what enemies it will be strong or weak against.

# Crafting
Combining up to 4 glyphs can create a more powerful one, given that the necessary empty glyph has high enough tier. 

Crafting depends on a 2D coordinate system startiing at point (0,0) and bounded by lines *y=1, y=-1, x=1, x=-1*, thus creating a square divided into quarts by axes and, separately, into another set of quarts by it's diagonals. Every glyph has a value called *vector* that defines where the point defining traits of the spell will move in the system. At the end nature trait is calculated by assigning the point to one of the *diagonal* quarts, whilist up to 4 element traits are calculated by *axis* quarts recursively applied to every quart assigned.

Most of hidden traits like speed or colour of the spell projectile are calculated as arithmetic average of combined spells values, but values of damage and heal power are additionaly multiplied by a given factor, so that hier tiered spells are, in fact, more powerful. 

# Dungeons
Procedurally generated graph of rooms, inside which terrain is also procedurally generated using Perlin Noise. Parametrization of the generation allows to controoll the shape of the dungeon and the look inside the room. It also allows to create whole dungeons looking like desired place, like a meadow or a cave. 

# Enemies
Mobs use the same spells as player does, and the first element of the spell (visible via colour) defines the mob's element, and along that it's strength and weakness. They also have a chance to drop it's spell.

## Boss
A very strong type of enemy, with immense firepower and often multiple phases based on it's missing health that empower him and may change his attack schema. Defeated always drops half of his spells.

# Quests
Procedurally generated by assigning keywords to places in prepared text and passing values assigned to them to content generation, by which all parameters of the dungeon and enemies are defined. Among them are the size and shape of the dungeon, chance of encountering a special room, type of enemies and the boss.
